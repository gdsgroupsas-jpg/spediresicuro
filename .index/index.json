{"timestamp": 1770388011.5669875, "root": "C:\\Users\\delgi\\OneDrive\\Desktop\\AGENTE ANYA", "files": ["agent/agent_base.py", "agent/agent_planning.py", "agent/agent_runner.py", "agent/agent_tooling.py", "agent/core.py", "agent/prompts.py", "agent/tooling_plan.py", "agent/tooling_registry.py", "agent/tooling_utils.py", "api/ollama_client.py", "config.json", "edit_fix.py", "edit_insert.py", "edit_insert3.py", "edit_insert4.py", "edit_run_tests.py", "edit_script.py", "main.py", "report.txt", "requirements.txt", "run_main.bat", "src/slugify.py", "tests/fixtures/ast_cross_a.py", "tests/fixtures/ast_cross_b.py", "tests/fixtures/ast_insert_sample.py", "tests/fixtures/ast_move_sample.py", "tests/fixtures/ast_sample.py", "tests/fixtures/ast_types.py", "tests/fixtures/batch_edit/config_a.py", "tests/fixtures/batch_edit/config_b.py", "tests/fixtures/batch_edit/config_c.py", "tests/fixtures/client.py", "tests/fixtures/config_like.txt", "tests/fixtures/config_multi.ini", "tests/fixtures/config_multi.yaml", "tests/fixtures/config_multi2.env", "tests/fixtures/config_multi2.ini", "tests/fixtures/config_multi2.json", "tests/fixtures/config_multi2.yaml", "tests/fixtures/constants.py", "tests/fixtures/dep_project/pyproject.toml", "tests/fixtures/dep_project/requirements.txt", "tests/fixtures/diff_target.txt", "tests/fixtures/error_log.txt", "tests/fixtures/hard_composite_sample.py", "tests/fixtures/hard_multistep_sample.py", "tests/fixtures/libcalc.py", "tests/fixtures/libref.py", "tests/fixtures/libref.pyi", "tests/fixtures/log_error_sample.py", "tests/fixtures/patch_target.txt", "tests/fixtures/preview.txt", "tests/fixtures/refactor_multi_a.py", "tests/fixtures/refactor_multi_b.py", "tests/fixtures/refactor_sample.py", "tests/fixtures/resilient_target.py", "tests/fixtures/retry_a.py", "tests/fixtures/retry_b.py", "tests/fixtures/retry_main.py", "tests/fixtures/service_ref.py", "tests/fixtures/test_libcalc.py", "tests/fixtures/test_refactor_dist.py", "tests/fixtures/test_util_feat.py", "tests/fixtures/test_util_slug.py", "tests/fixtures/update_log.txt", "tests/fixtures/util_feat.py", "tests/fixtures/util_new.py", "tests/fixtures/util_slug.py", "tests/plan_ambiguity_handling.json", "tests/plan_ambiguous_discovery.json", "tests/plan_apply_write_preview.json", "tests/plan_ast_cross_move.json", "tests/plan_ast_driven_change.json", "tests/plan_ast_insert_method.json", "tests/plan_ast_move_method.json", "tests/plan_ast_types.json", "tests/plan_batch_replace_repo.json", "tests/plan_bug_hunt_log.json", "tests/plan_config_multi.json", "tests/plan_config_multi2.json", "tests/plan_config_sync.json", "tests/plan_deps_sync.json", "tests/plan_diff_repair.json", "tests/plan_hard_analysis.json", "tests/plan_hard_composite.json", "tests/plan_hard_error.json", "tests/plan_hard_multistep.json", "tests/plan_hard_regex.json", "tests/plan_human_bytes.json", "tests/plan_libcalc_fix.json", "tests/plan_list_dir.json", "tests/plan_multi_file_coordination.json", "tests/plan_new_function.json", "tests/plan_new_function_slugify.json", "tests/plan_patch_apply_diff.json", "tests/plan_preview_write.json", "tests/plan_python_ast_find.json", "tests/plan_python_project_deps_toml.json", "tests/plan_read_file.json", "tests/plan_refactor_dist.json", "tests/plan_refactor_multi_file.json", "tests/plan_refactor_semantic.json", "tests/plan_resilient_flag.json", "tests/plan_retry_limit.json", "tests/plan_safe_preview_workflow_hard.json", "tests/plan_safety_outside_base.json", "tests/plan_search.json", "tests/plan_slugify_adv.json", "tests/plan_write_file.json", "tests/run_tests.py", "tests/summary.txt", "tests/test_ambiguity_handling.txt", "tests/test_ambiguous_discovery.txt", "tests/test_apply_write_preview.txt", "tests/test_ast_cross_move.txt", "tests/test_ast_driven_change.txt", "tests/test_ast_insert_method.txt", "tests/test_ast_move_method.txt", "tests/test_ast_types_hints.txt", "tests/test_batch_replace_repo.txt", "tests/test_bug_hunt_log.txt", "tests/test_config_multi.txt", "tests/test_config_multi2.txt", "tests/test_config_sync.txt", "tests/test_deps_sync.txt", "tests/test_diff_repair.txt", "tests/test_hard_analysis.txt", "tests/test_hard_composite.txt", "tests/test_hard_error.txt", "tests/test_hard_multistep.txt", "tests/test_hard_regex.txt", "tests/test_human_bytes.txt", "tests/test_libcalc_fix.txt", "tests/test_list_dir.txt", "tests/test_multi_file_coordination.txt", "tests/test_new_function_slugify.txt", "tests/test_patch_apply_diff.txt", "tests/test_preview_write.txt", "tests/test_python_ast_find.txt", "tests/test_python_project_deps_toml.txt", "tests/test_read_file.txt", "tests/test_refactor_dist.txt", "tests/test_refactor_multi_file.txt", "tests/test_refactor_semantic.txt", "tests/test_resilient_flag.txt", "tests/test_retry_limit.txt", "tests/test_safe_preview_workflow_hard.txt", "tests/test_safety_outside_base.txt", "tests/test_search.txt", "tests/test_slugify_adv.txt", "tests/test_write_file.txt", "tools/fs_tools.py", "tools/indexer.py", "tools/python_tools.py", "tools/registry.py", "tools/system_tools.py"], "py_symbols": [{"path": "agent/agent_base.py", "classes": ["AgentBaseMixin"], "functions": ["__init__", "_chat_text", "_chat_text_with_events", "_ensure_index", "_load_index", "_safe_json", "_sanitize_translated_input", "_summarize_evidence", "_tool_names", "_translate_to_english", "_translate_to_italian", "reset_history", "set_base_dir", "set_coder_model", "set_final_model", "set_host", "set_model", "set_planner_model", "set_summary_model", "set_task_planner_model", "set_tool_analysis_model", "set_tool_argument_model", "set_tool_model", "set_translator_model", "set_write_authorized"], "globals": ["active", "cleaned", "content", "data", "end", "files", "indexer", "messages", "now", "out", "path", "patterns", "start"]}, {"path": "agent/agent_planning.py", "classes": ["AgentPlanningMixin"], "functions": ["_filter_task_plan", "_normalize_plan", "_normalize_task_plan", "_normalize_tool_name", "_tool_example", "_validate_plan", "_validate_task_plan", "_validate_tool_call"], "globals": ["allow_report", "args", "cleaned", "command", "goal", "name", "prop", "props", "ptype", "req", "required", "spec", "steps", "tasks", "val"]}, {"path": "agent/agent_runner.py", "classes": ["AgentRunnerMixin"], "functions": ["run"], "globals": ["allowed_set", "ctx", "files", "repo_index", "repo_index_light", "scoped", "strict_messages", "summary_messages", "summary_text_en", "summary_text_it", "task_attempts", "task_command", "task_goal", "task_messages", "task_plan", "task_result", "task_text", "task_user", "tasks", "user_text_en", "user_text_en_clean"]}, {"path": "agent/agent_tooling.py", "classes": ["AgentToolingMixin"], "functions": [], "globals": []}, {"path": "agent/core.py", "classes": ["Agent"], "functions": [], "globals": ["__all__"]}, {"path": "agent/prompts.py", "classes": [], "functions": [], "globals": ["CODER_CONTENT_PROMPT", "CODER_PROMPT", "CODER_REPLACE_PROMPT", "FINAL_PROMPT", "FINAL_SUMMARY_PROMPT", "PLANNER_PROMPT", "PLANNER_REPAIR_PROMPT", "PLANNER_STRICT_PROMPT", "SYSTEM_PROMPT", "TASK_PLANNER_PROMPT", "TASK_PLANNER_REPAIR_PROMPT", "TASK_PLANNER_STRICT_PROMPT", "TOOL_ANALYSIS_PROMPT", "TOOL_ANALYSIS_STRICT_PROMPT", "TOOL_ARGUMENT_PROMPT", "TOOL_ARGUMENT_STRICT_PROMPT", "TOOL_CALLER_PROMPT", "TOOL_CALLER_STRICT_PROMPT", "TRANSLATE_PROMPT", "TRANSLATE_TO_IT_PROMPT", "TRANSLATOR_SYSTEM_PROMPT"]}, {"path": "agent/tooling_plan.py", "classes": ["ToolingPlanMixin"], "functions": ["_run_tool_plan"], "globals": ["allowed_tools", "analysis_args", "analysis_attempts", "analysis_call", "analysis_messages", "analysis_payload", "analysis_text", "approval_payload", "arg_attempts", "arg_call", "arg_messages", "arg_text", "args", "args_payload", "changed", "coder_messages", "coder_payload", "constraints", "content", "content_literal", "err_path", "error_hint", "fallback_path", "file_content", "final_instruction", "final_messages", "final_text_en", "generated_content", "generated_diff", "generated_replace", "goal", "last_content", "last_preview", "lines", "match", "needle", "path_hint", "pattern_hint", "plan", "plan_text", "planner_attempts", "planner_messages", "planner_user", "prev_hash", "prev_path", "preview", "preview_ctx", "read_res", "replacement_hint", "result", "selected_path", "spec", "steps", "strict_messages", "strict_payload", "target_path", "tool_attempts", "tool_call", "tool_messages", "tool_name", "tool_prompt", "total"]}, {"path": "agent/tooling_registry.py", "classes": ["ToolingRegistryMixin"], "functions": ["_build_registry"], "globals": ["reg"]}, {"path": "agent/tooling_utils.py", "classes": ["ToolingUtilsMixin"], "functions": ["_extract_content_literal", "_extract_paths", "_extract_target_path", "_fallback_path_from_goal", "_normalize_unified_diff", "_path_allowed", "_validate_python_exec_code"], "globals": ["cand_norm", "candidates", "files", "lowered", "m", "match", "norm_files", "path_hint", "patterns", "prefix", "raw", "text"]}, {"path": "api/ollama_client.py", "classes": ["OllamaClient"], "functions": ["__init__", "chat", "set_host", "set_model"], "globals": ["backoff_sec", "content", "data", "max_retries", "message", "resp", "tool_calls", "url"]}, {"path": "edit_fix.py", "classes": [], "functions": [], "globals": ["end_marker", "new_block", "p", "segment", "start_marker", "text"]}, {"path": "edit_insert.py", "classes": [], "functions": [], "globals": ["marker", "new_block", "p", "text"]}, {"path": "edit_insert3.py", "classes": [], "functions": [], "globals": ["block", "marker", "p", "t"]}, {"path": "edit_insert4.py", "classes": [], "functions": [], "globals": ["anchor", "block", "insert_pos", "new", "p", "t"]}, {"path": "edit_run_tests.py", "classes": [], "functions": [], "globals": ["anchor", "new_entries", "p", "text"]}, {"path": "edit_script.py", "classes": [], "functions": [], "globals": ["idx", "insert", "lines", "p"]}, {"path": "main.py", "classes": ["AgentWorker", "MainWindow", "UiEvent"], "functions": ["__init__", "_append_text", "_build_settings_menu", "_color_for_kind", "_colorize_diff", "_config_path", "_fetch_models", "_hide_write_controls", "_init_base_dir", "_init_stack_settings", "_load_base_dir", "_load_config", "_log_line", "_log_token", "_mark_host_invalid", "_maybe_show_diff", "_on_apply_coder_model", "_on_apply_final_model", "_on_apply_planner_model", "_on_apply_summary_model", "_on_apply_task_planner_model", "_on_apply_tool_model", "_on_apply_translator_model", "_on_approve_write", "_on_base_dir_changed", "_on_browse_base_dir", "_on_cancel", "_on_deny_write", "_on_done", "_on_event", "_on_refresh_models", "_on_request_approval", "_on_reset_base_dir", "_on_reset_memory", "_on_save_host", "_on_send", "_open_settings_menu", "_save_base_dir", "_save_config", "_validate_host", "_wait_for_approval", "approve_write", "cancel", "esc", "main", "run"], "globals": ["action", "app", "apply_coder_model_btn", "apply_final_model_btn", "apply_planner_model_btn", "apply_summary_model_btn", "apply_task_planner_model_btn", "apply_tool_model_btn", "apply_translator_model_btn", "args", "base_dir", "base_dir_row", "base_model", "btn_pos", "cfg", "chosen", "coder_model", "coder_model_label", "color", "container", "content", "controls", "cursor", "data", "delay", "dialog", "diff", "err", "event_emitted", "final_model", "final_model_label", "finished", "fmt", "host", "host_label", "html", "last_exc", "layout", "line", "lines", "mapping", "menu", "model", "models", "name", "out_lines", "parsed", "path", "payload", "planner_model", "planner_model_label", "prefix", "refresh_btn", "request_approval", "res", "resp", "retries", "root", "save_host_btn", "size", "split", "summary_model", "summary_model_label", "task_planner_model", "task_planner_model_label", "text", "timestamp", "tool_model", "tool_model_label", "tools", "translator_model", "translator_model_label", "url", "value", "window"]}, {"path": "src/slugify.py", "classes": [], "functions": ["slugify"], "globals": ["value"]}, {"path": "tests/fixtures/ast_cross_a.py", "classes": ["Foo", "Placeholder"], "functions": ["util"], "globals": []}, {"path": "tests/fixtures/ast_cross_b.py", "classes": ["Bar"], "functions": ["ping"], "globals": []}, {"path": "tests/fixtures/ast_insert_sample.py", "classes": ["Alpha", "Beta"], "functions": ["health_check", "ping"], "globals": []}, {"path": "tests/fixtures/ast_move_sample.py", "classes": ["Alpha", "Beta"], "functions": ["beta_extra", "ping"], "globals": []}, {"path": "tests/fixtures/ast_sample.py", "classes": ["ServiceA", "ServiceB"], "functions": [], "globals": []}, {"path": "tests/fixtures/ast_types.py", "classes": ["Alpha", "Beta"], "functions": ["ping"], "globals": []}, {"path": "tests/fixtures/batch_edit/config_a.py", "classes": [], "functions": [], "globals": ["API_URL"]}, {"path": "tests/fixtures/batch_edit/config_b.py", "classes": [], "functions": [], "globals": ["API_URL"]}, {"path": "tests/fixtures/batch_edit/config_c.py", "classes": [], "functions": [], "globals": ["API_URL"]}, {"path": "tests/fixtures/client.py", "classes": [], "functions": ["get_endpoint"], "globals": []}, {"path": "tests/fixtures/constants.py", "classes": [], "functions": [], "globals": ["API_VERSION"]}, {"path": "tests/fixtures/hard_multistep_sample.py", "classes": ["SampleLogger"], "functions": ["log_active_active_model"], "globals": ["message"]}, {"path": "tests/fixtures/libcalc.py", "classes": [], "functions": ["add"], "globals": []}, {"path": "tests/fixtures/libref.py", "classes": [], "functions": ["compute_total"], "globals": []}, {"path": "tests/fixtures/log_error_sample.py", "classes": [], "functions": ["average", "main"], "globals": []}, {"path": "tests/fixtures/refactor_multi_a.py", "classes": [], "functions": ["get_total"], "globals": []}, {"path": "tests/fixtures/refactor_multi_b.py", "classes": [], "functions": ["compute_sum"], "globals": ["total"]}, {"path": "tests/fixtures/refactor_sample.py", "classes": ["Greeter"], "functions": ["greet_person", "main"], "globals": ["g"]}, {"path": "tests/fixtures/resilient_target.py", "classes": [], "functions": [], "globals": ["MAGIC_FLAG"]}, {"path": "tests/fixtures/retry_a.py", "classes": [], "functions": [], "globals": ["RETRY_LIMIT"]}, {"path": "tests/fixtures/retry_b.py", "classes": [], "functions": [], "globals": ["RETRY_LIMIT"]}, {"path": "tests/fixtures/retry_main.py", "classes": [], "functions": ["main"], "globals": ["RETRY_LIMIT"]}, {"path": "tests/fixtures/service_ref.py", "classes": [], "functions": ["service_value"], "globals": []}, {"path": "tests/fixtures/test_libcalc.py", "classes": [], "functions": ["test_add_negative", "test_add_positive"], "globals": []}, {"path": "tests/fixtures/test_refactor_dist.py", "classes": [], "functions": ["test_compute_total_positive", "test_compute_total_zero"], "globals": []}, {"path": "tests/fixtures/test_util_feat.py", "classes": [], "functions": ["test_human_readable_bytes"], "globals": []}, {"path": "tests/fixtures/test_util_slug.py", "classes": [], "functions": ["test_slugify"], "globals": []}, {"path": "tests/fixtures/util_feat.py", "classes": [], "functions": ["human_readable_bytes"], "globals": []}, {"path": "tests/fixtures/util_new.py", "classes": [], "functions": ["slugify"], "globals": ["value"]}, {"path": "tests/fixtures/util_slug.py", "classes": [], "functions": ["slugify"], "globals": []}, {"path": "tests/run_tests.py", "classes": [], "functions": ["_reset_ast_move_sample_fixture", "_reset_batch_edit_fixtures", "compute_allowed_files", "load_config", "log_line", "main", "run_test", "ts"], "globals": ["ROOT", "agent", "allowed_files", "arg", "base", "cfg", "cnt_i", "error_fatal", "final_attempts", "host", "lower", "model", "model_out", "names", "ok", "output_text", "parts", "path", "plan_path", "planner_attempts", "results", "root", "src", "summary_path", "test_map", "tmp", "toolcaller_attempts"]}, {"path": "tools/fs_tools.py", "classes": ["FileSystemTools"], "functions": ["__init__", "_validate_path", "dispatch", "list_dir", "read_file", "search", "set_base_dir", "set_write_authorized", "stat", "write_file"], "globals": ["abs_path", "common", "entries", "err", "full", "info", "rx"]}, {"path": "tools/indexer.py", "classes": [], "functions": ["build_index", "iter_files", "main", "scan_python_file"], "globals": ["EXCLUDE_DIRS", "abs_path", "data", "files", "out_path", "path", "rel", "root", "src", "symbols", "tree"]}, {"path": "tools/python_tools.py", "classes": ["PythonTools"], "functions": ["ast_find_symbol", "ast_imports", "ast_outline", "mypy_check", "pip_install", "pip_list", "project_deps", "project_deps_toml", "pytest_run", "python_exec", "python_run_file", "ruff_check"], "globals": ["args", "cmd", "data", "deps", "entry", "line", "mod", "name", "normalized_type", "opt", "poetry", "prefix", "proc", "proj", "project", "py_path", "req_path", "reqs", "s", "src", "tomllib", "tool_poetry", "tree", "type_map"]}, {"path": "tools/registry.py", "classes": ["ToolDef", "ToolRegistry"], "functions": ["__init__", "add", "dispatch", "requires_approval", "specs"], "globals": ["tool"]}, {"path": "tools/system_tools.py", "classes": ["SystemTools"], "functions": ["__init__", "_validate_path", "append_file", "apply_patch_unified", "apply_write_preview", "copy_path", "count_dir", "delete_path", "file_hash", "git_diff", "git_log", "git_status", "glob_paths", "insert_text", "list_dir", "mkdir", "move_path", "preview_write", "read_file", "read_file_lines", "replace_in_repo", "replace_text", "run_command", "safe_write", "search_text", "set_allow_any", "set_base_dir", "stat_path", "write_file"], "globals": ["abs_path", "changed", "common", "data", "diff", "diff_path", "dirs", "entries", "err", "files", "files_touched", "full", "h", "idx", "indent", "info", "insert_lines", "lines", "n", "new_hash", "new_lines", "ok", "old", "old_hash", "old_lines", "path", "paths", "proc", "rx", "target_idx", "target_line", "updated"]}], "truncated": false}