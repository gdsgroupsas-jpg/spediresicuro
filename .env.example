# SpediReSicuro - Environment Variables Template
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to git!

# ===== Database (Supabase) =====
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===== NextAuth =====
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=generate-with-openssl-rand-base64-32

# ===== API Key Authentication =====
# Enable/disable API key authentication (default: false)
ENABLE_API_KEY_AUTH=false

# Shadow mode: log but don't enforce (default: false)
API_KEY_SHADOW_MODE=false

# Salt for API key hashing (REQUIRED if ENABLE_API_KEY_AUTH=true)
# Generate with: openssl rand -base64 32
# ⚠️ NEVER commit this value to git
# ⚠️ Rotating this salt invalidates ALL existing API keys
API_KEY_SALT=your-cryptographically-secure-salt-here

# Default rate limit per hour (default: 1000)
API_KEY_DEFAULT_RATE_LIMIT=1000

# Default expiry in days (default: 90)
API_KEY_DEFAULT_EXPIRY_DAYS=90

# ===== Cron Jobs =====
# Secret for authenticating cron job requests
# Generate with: openssl rand -base64 32
# ⚠️ REQUIRED for production - endpoint will return 503 if not set
CRON_SECRET=your-cron-secret-here

# ===== Tracking Service =====
# Spedisci.Online API
SPEDISCI_ONLINE_BASE_URL=https://demo1.spedisci.online/api/v2
SPEDISCI_ONLINE_API_KEY=your-spedisci-online-api-key

# Tracking cache configuration
# How long before cached tracking data is considered stale (default: 30 minutes)
TRACKING_CACHE_TTL_MINUTES=30

# Tracking sync job configuration
# Only sync shipments with tracking data older than this (default: 4 hours)
TRACKING_SYNC_MAX_AGE_HOURS=4
# Max shipments to sync per cron run (default: 100)
TRACKING_SYNC_BATCH_LIMIT=100
# Delay between API calls for rate limiting (default: 500ms)
TRACKING_SYNC_DELAY_MS=500
# Only sync shipments created within this period (default: 14 days)
TRACKING_SYNC_LOOKBACK_DAYS=14

# ===== External Services =====
# Add your external service API keys here
# (These are consumed by your app, not for your users)
