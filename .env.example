# SpediReSicuro - Environment Variables Template
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to git!

# ===== Database (Supabase) =====
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ===== NextAuth =====
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=generate-with-openssl-rand-base64-32

# ===== Cron Jobs =====
# Secret for authenticating cron job requests
# Generate with: openssl rand -base64 32
# ⚠️ REQUIRED for production - endpoint will return 503 if not set
CRON_SECRET=your-cron-secret-here

# ===== Tracking Service =====
# Spedisci.Online API
SPEDISCI_ONLINE_BASE_URL=https://demo1.spedisci.online/api/v2
SPEDISCI_ONLINE_API_KEY=your-spedisci-online-api-key

# Tracking cache configuration
# How long before cached tracking data is considered stale (default: 30 minutes)
TRACKING_CACHE_TTL_MINUTES=30

# Tracking sync job configuration
# Only sync shipments with tracking data older than this (default: 4 hours)
TRACKING_SYNC_MAX_AGE_HOURS=4
# Max shipments to sync per cron run (default: 100)
TRACKING_SYNC_BATCH_LIMIT=100
# Delay between API calls for rate limiting (default: 500ms)
TRACKING_SYNC_DELAY_MS=500
# Only sync shipments created within this period (default: 14 days)
TRACKING_SYNC_LOOKBACK_DAYS=14

# ===== Resend Email =====
RESEND_API_KEY=your-resend-api-key

# Resend Webhook Secret (Svix) — da Resend Dashboard > Webhooks > Signing Secret
# Richiesto per delivery tracking email (opened/delivered/bounced)
RESEND_WEBHOOK_SECRET=whsec_your-webhook-secret

# ===== WhatsApp Cloud API =====
WHATSAPP_TOKEN=your-whatsapp-access-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_VERIFY_TOKEN=your-verify-token
WHATSAPP_APP_SECRET=your-app-secret

# ===== Outreach System (Sprint S3) =====
# Kill Switch globale — se "true", blocca TUTTI gli invii outreach
# Settabile senza deploy via Vercel Dashboard Environment Variables
# OUTREACH_KILL_SWITCH=true

# Pilot Workspaces — lista workspace_id abilitati per outreach (comma-separated)
# Se non settato = tutti abilitati (post-pilot)
# OUTREACH_PILOT_WORKSPACES=ws-1,ws-2

# ===== External Services =====
# Add your external service API keys here
# (These are consumed by your app, not for your users)
