# ü§ñ AI AGENTS OPERATIVE DIRECTIVE - SpediSicuro Platform

> **DOCUMENTO MASTER PER TUTTI GLI AGENTI AI**
> Versione: 2.0
> Ultimo aggiornamento: 2024-01-29
> **LEGGI QUESTO FILE PRIMA DI QUALSIASI MODIFICA AL PROGETTO**

---

## üìå INFORMAZIONI PROGETTO CRITICHE

### Repository
- **GitHub:** `https://github.com/gdsgroupsas-jpg/spediresicuro.git`
- **Account:** `gdsgroupsas-jpg`
- **Branch Produzione:** `master`
- **Deploy:** Vercel (auto-deploy da master)
- **Sito Live:** https://spediresicuro.it

### Stack Tecnologico
```
Framework:     Next.js 14 (App Router)
Linguaggio:    TypeScript
Styling:       Tailwind CSS
Database:      JSON locale ‚Üí Supabase (PostgreSQL) migration in progress
Auth:          NextAuth.js v5
Deploy:        Vercel
Package Mgr:   npm
```

---

## üéØ REGOLA ZERO: PERCORSI RELATIVI SEMPRE

### ‚úÖ CORRETTO
```typescript
import { Auth } from '@/lib/auth-config'
const filePath = 'app/dashboard/page.tsx'
```

### ‚ùå SBAGLIATO
```typescript
const filePath = 'C:\\spediresicuro-master\\app\\dashboard\\page.tsx'
const filePath = '/home/user/spediresicuro/app/dashboard/page.tsx'
```

**Motivo:** Il progetto viene usato su PC diversi (lavoro/casa) e ambienti diversi (Windows locale/Linux cloud)

---

## üìÅ STRUTTURA PROGETTO

```
spediresicuro/
‚îú‚îÄ‚îÄ .AI_DIRECTIVE.md        # ‚Üê QUESTO FILE (leggi sempre prima!)
‚îú‚îÄ‚îÄ .ai-lock.json            # Lock file per evitare conflitti
‚îú‚îÄ‚îÄ AGENT_NOTES.md           # Comunicazione tra agenti
‚îú‚îÄ‚îÄ .git/
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tailwind.config.js
‚îÇ
‚îú‚îÄ‚îÄ app/                     # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/                 # API Routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Autenticazione
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ preventivo/      # Calcolo preventivi
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ track/           # Tracking spedizioni
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/           # Dashboard utente
‚îÇ   ‚îú‚îÄ‚îÄ preventivo/          # Pagina preventivo pubblico
‚îÇ   ‚îú‚îÄ‚îÄ track/               # Tracking pubblico
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx             # Homepage
‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx           # Layout principale
‚îÇ
‚îú‚îÄ‚îÄ components/              # Componenti React
‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # Componenti UI base (shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ header.tsx
‚îÇ   ‚îú‚îÄ‚îÄ footer.tsx
‚îÇ   ‚îî‚îÄ‚îÄ logo/
‚îÇ
‚îú‚îÄ‚îÄ lib/                     # Librerie e utility
‚îÇ   ‚îú‚îÄ‚îÄ auth-config.ts       # Config autenticazione
‚îÇ   ‚îú‚îÄ‚îÄ database.ts          # Database JSON locale
‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts          # Client Supabase
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts             # Utility functions
‚îÇ
‚îú‚îÄ‚îÄ types/                   # TypeScript types
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ
‚îú‚îÄ‚îÄ data/                    # Database JSON (temporaneo)
‚îÇ   ‚îî‚îÄ‚îÄ *.json
‚îÇ
‚îú‚îÄ‚îÄ public/                  # Asset statici
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ scripts/                 # Script utility
‚îî‚îÄ‚îÄ supabase/                # Migrazioni database
    ‚îî‚îÄ‚îÄ migrations/
```

---

## ü§ñ MULTI-AGENT SYSTEM

### Agenti Disponibili e Ruoli

| Agente | Specialty | Git Access | Quando Usarlo |
|--------|-----------|------------|---------------|
| **Claude Code** | Implementazioni complesse multi-file, refactoring architetturale, debug profondo | ‚úÖ Automatico | Task complessi backend/frontend integrati |
| **Claude Web** | Pianificazione, brainstorming, architettura, code review teorico | ‚ùå No | Design decisioni, consulenza strategica |
| **Cursor IDE** | Real-time editing, autocomplete, modifiche rapide single-file | ‚úÖ Manuale | Quick fixes, sviluppo iterativo |
| **Cursor Composer** | Features medie multi-file, UI implementation | ‚úÖ Manuale | Componenti UI, forms, styling |
| **ChatGPT** | Snippet isolati, script utility, documentazione | ‚ùå No | Utility functions, test generation |
| **Gemini** | Analisi multimodale (immagini+codice), ricerca web | ‚ùå No | UI da screenshot, ricerca best practices |
| **Codeium/Copilot** | Autocomplete inline, boilerplate | ‚úÖ Automatico | Durante coding normale |

---

## üîÑ GIT WORKFLOW MULTI-AGENTE

### Branch Strategy

```
master (produzione)
  ‚îú‚îÄ‚îÄ claude/[feature]-[session-id]     ‚Üê Claude Code
  ‚îú‚îÄ‚îÄ human/[feature]                   ‚Üê Tu con Cursor/manuale
  ‚îú‚îÄ‚îÄ cursor/[feature]                  ‚Üê Cursor Composer
  ‚îî‚îÄ‚îÄ test/[experiment]                 ‚Üê Branch temporanei test
```

### Naming Convention

```bash
# Claude Code (automatico)
claude/auth-system-01AQAkxwR5Pd2Ww1CDZdBbL8

# Sviluppo manuale con Cursor
human/payment-integration
cursor/ui-refactor

# Test snippet esterni
test/chatgpt-validation-utils
```

### Commit Message Convention

```bash
# Formato
[type](agent): description

# Esempi
feat(claude): implement email notification system
fix(cursor): resolve navbar responsive issue
docs(chatgpt): add API documentation
refactor(human): optimize database queries
test(chatgpt): add email service tests
style(cursor): improve button hover states
```

**Types:** `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

---

## üö¶ SISTEMA ANTI-CONFLITTO

### 1. File Lock System

Prima di modificare file, controlla `.ai-lock.json`:

```json
{
  "locks": [
    {
      "files": ["app/api/auth/**/*"],
      "agent": "claude-code",
      "branch": "claude/auth-system-01AQAkxwR5Pd2Ww1CDZdBbL8",
      "started": "2024-01-29T14:00:00Z",
      "reason": "Implementing complete authentication system"
    }
  ]
}
```

**Regole:**
- ‚úÖ Se file non locked ‚Üí Puoi modificare
- ‚ö†Ô∏è Se file locked da te stesso ‚Üí Ok continuare
- ‚ùå Se file locked da altro agente ‚Üí ASPETTA o lavora su altro

### 2. Agent Communication Log

Usa `AGENT_NOTES.md` per comunicare tra agenti:

```markdown
## 2024-01-29 14:30 - Claude Code
**Branch:** claude/tracking-system-xyz
**Status:** ‚úÖ Completato
**Files:** app/api/track/*, lib/tracking.ts
**Next Step:** Frontend UI needed in app/track/page.tsx
**Notes:** Backend ready, endpoint `/api/track/:id` tested
```

### 3. Pre-Modification Checklist

**PRIMA di modificare qualsiasi file:**

```bash
# 1. Sincronizza con remoto
git fetch origin

# 2. Controlla locks
cat .ai-lock.json

# 3. Leggi note altri agenti
cat AGENT_NOTES.md

# 4. Verifica branch corretto
git branch --show-current

# 5. Procedi solo se tutto OK
```

---

## üìã WORKFLOW OPERATIVI

### Workflow A: Claude Code (Task Complesso)

```bash
# Claude Code fa automaticamente:
1. Crea branch: claude/[feature]-[session-id]
2. Implementa modifiche multi-file
3. Commit: "feat(claude): [description]"
4. Push: origin/claude/[feature]-[session-id]

# Tu fai:
1. git fetch origin
2. git checkout claude/[feature]-[session-id]
3. npm run dev  # Test locale
4. Se OK ‚Üí Pull Request ‚Üí Merge master
```

### Workflow B: Cursor (Sviluppo Iterativo)

```bash
# Tu:
1. git checkout -b human/[feature]
2. Apri Cursor, lavora sui file
3. git add .
4. git commit -m "feat(cursor): [description]"
5. git push -u origin human/[feature]
6. Quando pronto ‚Üí PR ‚Üí Merge
```

### Workflow C: ChatGPT/Gemini (Snippet Esterni)

```bash
# 1. Chiedi snippet a ChatGPT/Gemini
# 2. Crea file localmente e testa
# 3. Aggiungi al progetto:

git checkout -b test/[name]
# Incolla snippet in file appropriato
npm run dev  # Test
npm run build  # Verifica build

# Se OK:
git add .
git commit -m "feat(chatgpt): add utility function"
git push -u origin test/[name]
# PR ‚Üí Merge

# Se KO:
git checkout master
git branch -D test/[name]
```

### Workflow D: Collaborazione Multi-Agente

**Esempio: Feature "Email Notifications"**

```
STEP 1 - Pianificazione (Claude Web)
‚Üí User chiede architettura sistema email
‚Üí Claude Web fornisce piano dettagliato
‚Üí Output: Piano architetturale (no code)

STEP 2 - Implementazione Backend (Claude Code)
‚Üí git checkout master
‚Üí git pull origin master
‚Üí Task: "Implementa email system seguendo piano"
‚Üí Claude Code crea: claude/email-system-[id]
‚Üí Implementa: lib/email.ts, app/api/email/*
‚Üí Commit & Push automatici
‚Üí Output: Branch pronto per test

STEP 3 - Test e Refinement (Human + Cursor)
‚Üí git fetch origin
‚Üí git checkout claude/email-system-[id]
‚Üí npm run dev
‚Üí Test funzionalit√†
‚Üí Cursor: piccole modifiche UI
‚Üí git commit -m "refine(cursor): improve email form UI"
‚Üí git push

STEP 4 - Testing (ChatGPT)
‚Üí Chiedi: "Genera test Jest per email service"
‚Üí Copia test in __tests__/email.test.ts
‚Üí git add __tests__/email.test.ts
‚Üí git commit -m "test(chatgpt): add email tests"
‚Üí git push

STEP 5 - Review e Deploy (Human)
‚Üí npm run test
‚Üí npm run build
‚Üí Se OK: PR e merge su master
‚Üí Vercel auto-deploy ‚úÖ
```

---

## üéØ MATRICE DECISIONALE VELOCE

| Devo fare... | Agente da usare | Perch√© |
|--------------|-----------------|---------|
| Pianificare architettura | Claude Web | Conversazione strategica |
| Implementare feature complessa | Claude Code | Multi-file, Git auto |
| Quick fix durante coding | Cursor | Real-time IDE |
| Creare componente UI | Cursor Composer | UI specialization |
| Generare utility function | ChatGPT | Snippet veloce |
| Capire UI da screenshot | Gemini | Multimodale |
| Scrivere test | ChatGPT | Test generation |
| Debug errore complesso | Claude Code | Deep analysis |
| Refactor architetturale | Claude Code | Multi-file safe |
| Modifiche styling | Cursor | Visual feedback |
| Ricerca best practices | Gemini/ChatGPT | Web access |

---

## üíª CONVENZIONI CODICE

### Nomi File
```
kebab-case.ts          ‚úÖ auth-config.ts
kebab-case.tsx         ‚úÖ hero-section.tsx
PascalCase.tsx         ‚úÖ Header.tsx (componenti)
```

### Variabili e Funzioni (ITALIANO)
```typescript
// ‚úÖ CORRETTO - Italiano descrittivo
const prezzoTotale = calcolaPrezzoConRicarico(prezzoBase, percentualeRicarico)
const spedizioneAttiva = await getSpedizioneById(id)

// ‚ùå SBAGLIATO - Inglese o non descrittivo
const totalPrice = calculatePrice(base, markup)
const x = await get(id)
```

### Commenti (ITALIANO)
```typescript
// ‚úÖ CORRETTO
// Calcola il prezzo finale applicando il ricarico configurato
const calcolaPrezzoFinale = (base: number): number => {
  // Recupera percentuale ricarico da configurazione
  const ricarico = getConfigRicarico()
  return base * (1 + ricarico / 100)
}

// ‚ùå SBAGLIATO - Inglese o assenti
// Calculate final price
const calcPrice = (b: number): number => {
  const m = getMarkup()
  return b * (1 + m / 100)  // no comment
}
```

### Import Paths
```typescript
// ‚úÖ CORRETTO - Alias @
import { Button } from '@/components/ui/button'
import { auth } from '@/lib/auth-config'

// ‚ùå SBAGLIATO - Percorsi relativi lunghi
import { Button } from '../../components/ui/button'
```

---

## üîí FILE DA NON COMMITTARE

```gitignore
# Environment
.env.local
.env*.local

# Dependencies
node_modules/

# Next.js
.next/
out/

# Build
dist/
build/

# Debug
npm-debug.log*
.DS_Store

# IDE
.vscode/
.idea/

# AI Local (se non vuoi condividere)
# .ai-lock.json
# AGENT_NOTES.md
```

**Note:**
- `.ai-lock.json` e `AGENT_NOTES.md` possono essere committati per condivisione tra agenti
- `.env.local` NON deve MAI essere committato

---

## ‚ö° COMANDI ESSENZIALI

### Setup Iniziale
```bash
# Clone (prima volta)
git clone https://github.com/gdsgroupsas-jpg/spediresicuro.git
cd spediresicuro

# Install
npm install

# Setup environment
cp .env.example .env.local
# Modifica .env.local con i tuoi valori

# Start dev
npm run dev
```

### Sviluppo Quotidiano
```bash
# Sincronizza
git fetch origin
git pull origin master

# Controlla stato
git status
cat .ai-lock.json
cat AGENT_NOTES.md

# Lavora
git checkout -b [agent]/[feature]
# ... modifiche ...
git add .
git commit -m "[type](agent): description"
git push -u origin [agent]/[feature]
```

### Integrazione Lavoro Agenti
```bash
# Scarica lavoro di Claude Code
git fetch origin
git branch -r | grep claude  # Vedi branch disponibili
git checkout claude/[feature]-[session-id]

# Test locale
npm run dev

# Se OK, merge
git checkout master
git merge claude/[feature]-[session-id]
git push origin master

# Cleanup
git branch -d claude/[feature]-[session-id]
git push origin --delete claude/[feature]-[session-id]
```

### Verifica Pre-Deploy
```bash
# Test completo
npm run lint
npm run type-check  # se disponibile
npm run test
npm run build

# Se tutto OK
git push origin master  # Auto-deploy Vercel
```

---

## üéØ CHECKLIST OPERATIVE

### Prima di QUALSIASI Modifica

```markdown
- [ ] Ho letto `.AI_DIRECTIVE.md`? (questo file)
- [ ] Ho fatto `git fetch origin`?
- [ ] Ho controllato `.ai-lock.json` per locks?
- [ ] Ho letto `AGENT_NOTES.md` per comunicazioni?
- [ ] Sono sul branch corretto?
- [ ] Ho verificato `git config user.name` = "gdsgroupsas-jpg"?
- [ ] So quale agente √® pi√π adatto per questo task?
- [ ] Sto usando percorsi relativi, non assoluti?
```

### Dopo Ogni Modifica

```markdown
- [ ] Ho testato in locale? (`npm run dev`)
- [ ] Build passa? (`npm run build`)
- [ ] Ho committato con prefisso agente corretto?
- [ ] Ho aggiornato `AGENT_NOTES.md` se necessario?
- [ ] Ho rimosso lock da `.ai-lock.json` se avevo lockato?
- [ ] Ho pushato sul branch corretto?
```

### Prima di Merge su Master

```markdown
- [ ] Tutti i test passano?
- [ ] Build completa senza errori?
- [ ] Ho testato le funzionalit√† modificate?
- [ ] Ho fatto code review (anche da solo)?
- [ ] Ho documentato modifiche importanti?
- [ ] Pull Request creata con descrizione chiara?
```

---

## üö® SITUAZIONI COMUNI E SOLUZIONI

### Problema: "Git push rejected (non-fast-forward)"

```bash
# Causa: Branch locale dietro rispetto a remoto
# Soluzione:
git fetch origin
git pull origin [branch-name] --rebase
# Risolvi eventuali conflitti
git push origin [branch-name]
```

### Problema: "File gi√† modificato da altro agente"

```bash
# Controlla chi:
cat .ai-lock.json
cat AGENT_NOTES.md

# Opzione 1: Aspetta che finisca
# Opzione 2: Coordinate in AGENT_NOTES.md
# Opzione 3: Lavora su file diversi
```

### Problema: "Modifiche non visibili in locale"

```bash
# Causa: Non hai scaricato branch remoto
git fetch origin
git checkout [branch-name]

# Se gi√† sul branch:
git pull origin [branch-name]
```

### Problema: "Cursor non vede modifiche Claude Code"

```bash
# In Cursor terminal:
git fetch origin
git checkout claude/[feature]-[session-id]

# Ricarica Cursor workspace
# Ctrl+Shift+P ‚Üí "Reload Window"
```

### Problema: "Conflitti durante merge"

```bash
# Vedere file in conflitto
git status

# Aprire file, risolvere markers:
# <<<<<<< HEAD
# tuo codice
# =======
# codice incoming
# >>>>>>> branch-name

# Dopo risoluzione:
git add [file-risolto]
git commit -m "fix: resolve merge conflicts"
git push
```

---

## üìä PRIORIT√Ä SVILUPPO CORRENTI

### üî¥ Alta Priorit√†
1. **Sistema Preventivi** - Form calcolo preventivo con ricarico
2. **Integrazione Corrieri** - API Bartolini, GLS, DHL
3. **Dashboard Utente** - Gestione spedizioni

### üü° Media Priorit√†
4. **Sistema Tracking** - Tracciamento real-time spedizioni
5. **Autenticazione** - Login utenti con NextAuth
6. **Pagamenti** - Integrazione Stripe/PayPal

### üü¢ Bassa Priorit√†
7. **Notifiche Email** - Alert stato spedizioni
8. **Admin Panel** - Gestione backend
9. **Analytics** - Dashboard statistiche

---

## üîê CONFIGURAZIONI AMBIENTE

### Variabili Ambiente Required

```env
# .env.local (NON committare!)

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...

# NextAuth
NEXTAUTH_SECRET=your-secret-key-min-32-chars
NEXTAUTH_URL=http://localhost:3000

# Google OAuth (opzionale)
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxx

# API Corrieri (quando disponibili)
BARTOLINI_API_KEY=xxx
GLS_API_KEY=xxx
DHL_API_KEY=xxx
```

### Git Config Required

```bash
# Verifica SEMPRE prima di commit:
git config user.name   # Deve essere: gdsgroupsas-jpg
git config user.email  # Deve essere: tua-email-corretta

# Se sbagliato, correggi:
git config user.name "gdsgroupsas-jpg"
git config user.email "email@esempio.com"
```

---

## üéì ESEMPI PRATICI COMPLETI

### Esempio 1: Claude Code - Nuova Feature

```
USER REQUEST:
"Implementa sistema di tracking spedizioni"

CLAUDE CODE ACTIONS:
1. Legge .AI_DIRECTIVE.md
2. Controlla .ai-lock.json (nessun lock)
3. Crea branch: claude/tracking-system-01XYZ
4. Aggiunge lock in .ai-lock.json:
   {
     "files": ["app/api/track/**/*", "lib/tracking.ts"],
     "agent": "claude-code",
     "branch": "claude/tracking-system-01XYZ",
     "started": "2024-01-29T15:00:00Z"
   }
5. Implementa:
   - lib/tracking.ts (logica tracking)
   - app/api/track/[id]/route.ts (API endpoint)
   - types/tracking.ts (TypeScript types)
6. Commit: "feat(claude): implement shipment tracking system"
7. Push: origin/claude/tracking-system-01XYZ
8. Aggiorna AGENT_NOTES.md:
   "‚úÖ Backend tracking completato. Next: Frontend UI"
9. Rimuove lock da .ai-lock.json

USER ACTIONS:
1. git fetch origin
2. git checkout claude/tracking-system-01XYZ
3. npm run dev
4. Test API: curl localhost:3000/api/track/123
5. Se OK: PR e merge
```

### Esempio 2: Cursor - UI Refinement

```
USER ACTIONS IN CURSOR:
1. Apre Cursor
2. Terminal: git fetch origin
3. Terminal: git checkout claude/tracking-system-01XYZ
4. Controlla AGENT_NOTES.md: "Backend ready, need frontend"
5. Crea: app/track/[id]/page.tsx
6. Usa Cursor Composer:
   "Crea UI tracking page che chiama /api/track/[id]"
7. Cursor genera componente
8. Test: npm run dev ‚Üí http://localhost:3000/track/123
9. Refinement styling manuale
10. Terminal: git add app/track
11. Terminal: git commit -m "feat(cursor): add tracking UI page"
12. Terminal: git push
13. Aggiorna AGENT_NOTES.md: "‚úÖ Frontend completato"
```

### Esempio 3: ChatGPT - Test Generation

```
USER ‚Üí CHATGPT:
"Genera test Jest per tracking service in lib/tracking.ts"

CHATGPT RESPONSE:
```typescript
// __tests__/tracking.test.ts
import { getTrackingInfo, updateTrackingStatus } from '@/lib/tracking'

describe('Tracking Service', () => {
  test('should get tracking info by ID', async () => {
    const tracking = await getTrackingInfo('123')
    expect(tracking).toBeDefined()
    expect(tracking.id).toBe('123')
  })

  test('should update tracking status', async () => {
    const result = await updateTrackingStatus('123', 'in-transit')
    expect(result.status).toBe('in-transit')
  })
})
```

USER ACTIONS:
1. Copia snippet da ChatGPT
2. Crea file: __tests__/tracking.test.ts
3. Incolla codice
4. Terminal: npm run test
5. Se passa: git add __tests__/tracking.test.ts
6. git commit -m "test(chatgpt): add tracking service tests"
7. git push
```

---

## üéØ REGOLE D'ORO (DA MEMORIZZARE)

1. **LEGGI SEMPRE `.AI_DIRECTIVE.md` prima di iniziare** üìñ
2. **PERCORSI RELATIVI, mai assoluti** üìÅ
3. **UN AGENTE, UN TASK, UN BRANCH** üåø
4. **CONTROLLA `.ai-lock.json` prima di modificare** üîí
5. **USA `AGENT_NOTES.md` per comunicare** üí¨
6. **COMMIT con prefisso agente** üè∑Ô∏è
7. **FETCH prima di lavorare** üîÑ
8. **TEST prima di merge** ‚úÖ
9. **ITALIANO per variabili e commenti** üáÆüáπ
10. **REVIEW finale sempre umana** üë®‚Äçüíª

---

## üìû SUPPORTO E TROUBLESHOOTING

### Documentazione Progetto
- **Questo file:** `.AI_DIRECTIVE.md` (overview completa)
- **Lock status:** `.ai-lock.json` (chi sta lavorando su cosa)
- **Comunicazioni:** `AGENT_NOTES.md` (log attivit√† agenti)
- **Setup:** `README.md` (se esiste)

### In Caso di Problemi

1. **Leggi prima** `.AI_DIRECTIVE.md` (questo file)
2. **Controlla** `AGENT_NOTES.md` per contesto
3. **Verifica** `.ai-lock.json` per locks
4. **Cerca** errori simili in git log: `git log --grep="[keyword]"`
5. **Chiedi** all'umano se bloccato

### Git Issues Comuni

```bash
# Vedere cronologia completa
git log --oneline --graph --all

# Vedere modifiche specifico file
git log -p [file-path]

# Vedere chi ha modificato una linea
git blame [file-path]

# Ripristinare file specifico
git checkout HEAD -- [file-path]

# Annullare ultimo commit (mantieni modifiche)
git reset HEAD~1

# Annullare ultimo commit (scarta modifiche) - ATTENZIONE
git reset --hard HEAD~1
```

---

## üìÖ LOG MODIFICHE DOCUMENTO

### v2.0 - 2024-01-29
- Creazione documento master unificato
- Integrazione multi-agent system
- Sistema lock e comunicazione
- Workflow operativi completi

### v1.0 - 2024-01-15
- Setup iniziale progetto
- Configurazioni base

---

## ‚úÖ VALIDATION FINALE

Prima di chiudere questo documento, verifica:

```markdown
- [ ] Ho capito la struttura del progetto?
- [ ] So quale agente usare per quale task?
- [ ] Conosco il workflow Git multi-agente?
- [ ] So usare .ai-lock.json e AGENT_NOTES.md?
- [ ] Ricordo: PERCORSI RELATIVI SEMPRE?
- [ ] Ricordo: ITALIANO per variabili/commenti?
- [ ] Ricordo: Controlla locks prima di modificare?
- [ ] Ricordo: Commit con prefisso agente?
```

Se hai risposto S√å a tutto, sei pronto! üöÄ

---

**Per Cursor:** Carica questo file nel progetto e usalo come riferimento.
**Per ChatGPT/Gemini:** Carica questo file all'inizio della conversazione.
**Per Claude Code:** Questo file √® gi√† nel repository, lo leggo automaticamente.
**Per Claude Web:** Carica questo file per avere contesto completo progetto.

---

**üéØ QUESTO √à L'UNICO DOCUMENTO CHE SERVE**
**Tutti gli agenti AI devono seguire queste direttive**

**Versione:** 2.0
**Ultima modifica:** 2024-01-29
**Prossima revisione:** Dopo merge nuove features importanti
